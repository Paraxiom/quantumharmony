<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumHarmony Wallet</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .wallet-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .wallet-header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px 35px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .wallet-title {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .wallet-balance {
            text-align: right;
        }

        .balance-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .balance-amount {
            font-size: 32px;
            font-weight: 700;
            color: #333;
        }

        .balance-currency {
            font-size: 18px;
            color: #999;
            margin-left: 5px;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding: 5px;
        }

        .tab-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 15px 25px;
            border-radius: 15px;
            font-size: 15px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Content Area */
        .tab-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 35px;
            min-height: 600px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Card Grid */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }

        .card-value {
            font-size: 32px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
        }

        .card-label {
            font-size: 14px;
            color: #666;
        }

        /* Buttons */
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Device Card */
        .device-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .device-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .device-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .device-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-active {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-offline {
            background: #f8d7da;
            color: #721c24;
        }

        /* Stats */
        .stats-row {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }

        .stat-item {
            flex: 1;
            text-align: center;
            padding: 15px;
            background: #f5f7fa;
            border-radius: 10px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
        }

        .stat-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        /* Transaction List */
        .tx-list {
            margin-top: 20px;
        }

        .tx-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .tx-info {
            flex: 1;
        }

        .tx-type {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .tx-date {
            font-size: 12px;
            color: #999;
            margin-top: 3px;
        }

        .tx-amount {
            font-size: 18px;
            font-weight: 700;
        }

        .tx-amount.positive {
            color: #28a745;
        }

        .tx-amount.negative {
            color: #dc3545;
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
            display: inline-block;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 26px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: #667eea;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        /* Section Title */
        .section-title {
            font-size: 22px;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .quick-action-btn {
            flex: 1;
            padding: 20px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-action-btn:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.2);
        }

        .quick-action-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .quick-action-label {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="wallet-container">
        <!-- Header -->
        <div class="wallet-header">
            <div>
                <div class="wallet-title">QuantumHarmony Wallet</div>
                <div style="font-size: 14px; color: #999; margin-top: 5px;">Post-Quantum Secure Blockchain</div>
            </div>
            <div class="wallet-balance">
                <div class="balance-label">Your Balance</div>
                <div>
                    <span class="balance-amount">1,247.50</span>
                    <span class="balance-currency">QH</span>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button class="tab-btn active" onclick="showTab('wallet')">üí∞ Wallet</button>
            <button class="tab-btn" onclick="showTab('stake')">üè¶ Stake</button>
            <button class="tab-btn" onclick="showTab('governance')">üó≥Ô∏è Governance</button>
            <button class="tab-btn" onclick="showTab('devices')">üî¨ Quantum Devices</button>
            <button class="tab-btn" onclick="showTab('node')">‚öôÔ∏è Node Operator</button>
            <button class="tab-btn" onclick="showTab('network')">üåê Network</button>
            <button class="tab-btn" onclick="showTab('upgrades')">üîÑ Runtime</button>
            <button class="tab-btn" onclick="showTab('developer')">üë®‚Äçüíª Developer</button>
        </div>

        <!-- Wallet Tab (Default User View) -->
        <div class="tab-content active" id="tab-wallet">
            <div class="section-title">My Wallet</div>

            <div class="quick-actions">
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üì§</div>
                    <div class="quick-action-label">Send</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üì•</div>
                    <div class="quick-action-label">Receive</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üîÑ</div>
                    <div class="quick-action-label">Swap</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üìä</div>
                    <div class="quick-action-label">History</div>
                </div>
            </div>

            <div class="card-grid">
                <div class="card">
                    <div class="card-title">Available Balance</div>
                    <div class="card-value">1,247.50 QH</div>
                    <div class="card-label">~$2,495 USD</div>
                </div>
                <div class="card">
                    <div class="card-title">Staked Balance</div>
                    <div class="card-value">850.00 QH</div>
                    <div class="card-label">Earning 8.5% APY</div>
                </div>
                <div class="card">
                    <div class="card-title">Rewards Earned</div>
                    <div class="card-value">72.40 QH</div>
                    <div class="card-label">Last 30 days</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Recent Transactions</div>
            <div class="tx-list">
                <div class="tx-item">
                    <div class="tx-info">
                        <div class="tx-type">Received from 5Gw8...</div>
                        <div class="tx-date">Today, 2:34 PM</div>
                    </div>
                    <div class="tx-amount positive">+50.00 QH</div>
                </div>
                <div class="tx-item">
                    <div class="tx-info">
                        <div class="tx-type">Staking Reward</div>
                        <div class="tx-date">Today, 12:00 PM</div>
                    </div>
                    <div class="tx-amount positive">+2.40 QH</div>
                </div>
                <div class="tx-item">
                    <div class="tx-info">
                        <div class="tx-type">Sent to 5Hm4...</div>
                        <div class="tx-date">Yesterday, 4:22 PM</div>
                    </div>
                    <div class="tx-amount negative">-25.00 QH</div>
                </div>
            </div>
        </div>

        <!-- Stake Tab -->
        <div class="tab-content" id="tab-stake">
            <div class="section-title">Staking Dashboard</div>

            <div class="card-grid">
                <div class="card">
                    <div class="card-title">Total Staked</div>
                    <div class="card-value">850.00 QH</div>
                    <div class="card-label">68% of portfolio</div>
                </div>
                <div class="card">
                    <div class="card-title">Annual Yield</div>
                    <div class="card-value">8.5%</div>
                    <div class="card-label">APY</div>
                </div>
                <div class="card">
                    <div class="card-title">Claimable Rewards</div>
                    <div class="card-value">2.40 QH</div>
                    <div class="card-label">Ready to claim</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Stake More</div>
            <div style="max-width: 500px;">
                <div class="form-group">
                    <label class="form-label">Amount to Stake</label>
                    <input type="number" class="form-input" placeholder="0.00" value="100">
                </div>
                <div class="form-group">
                    <label class="form-label">Lock Period</label>
                    <select class="form-input">
                        <option>No Lock (8.5% APY)</option>
                        <option>30 days (9.5% APY)</option>
                        <option>90 days (11% APY)</option>
                        <option>180 days (13% APY)</option>
                    </select>
                </div>
                <button class="btn">Stake QH Tokens</button>
            </div>
        </div>

        <!-- Quantum Devices Tab -->
        <div class="tab-content" id="tab-devices">
            <div class="section-title">Contribute Quantum Devices to Network</div>

            <div style="margin-bottom: 30px; padding: 20px; background: #e3f2fd; border-radius: 12px; border-left: 4px solid #2196f3;">
                <div style="font-weight: 600; margin-bottom: 10px;">üí° Earn Rewards by Sharing Quantum Hardware</div>
                <div style="font-size: 14px; color: #555;">Connect your quantum devices (QRNG, QKD, Quantum Sensors) to the network and earn QH tokens based on entropy contributions and uptime.</div>
            </div>

            <div class="quick-actions">
                <div class="quick-action-btn">
                    <div class="quick-action-icon">‚ûï</div>
                    <div class="quick-action-label">Add Device</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üî¨</div>
                    <div class="quick-action-label">Device Marketplace</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">My Quantum Devices</div>

            <div class="device-card">
                <div class="device-header">
                    <div>
                        <div class="device-name">Toshiba QRNG</div>
                        <div style="font-size: 12px; color: #999; margin-top: 3px;">ID-QUANTIS-4M</div>
                    </div>
                    <span class="device-status status-active">Active</span>
                </div>
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="stat-value">4 Mb/s</div>
                        <div class="stat-label">Entropy Rate</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">0.8%</div>
                        <div class="stat-label">QBER</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">2,847</div>
                        <div class="stat-label">Pool Size</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">+12.5 QH</div>
                        <div class="stat-label">Today's Earnings</div>
                    </div>
                </div>
            </div>

            <div class="device-card">
                <div class="device-header">
                    <div>
                        <div class="device-name">Crypto4A QKD</div>
                        <div style="font-size: 12px; color: #999; margin-top: 3px;">QUANTUM-KEY-DIST</div>
                    </div>
                    <span class="device-status status-active">Active</span>
                </div>
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="stat-value">1.2 kb/s</div>
                        <div class="stat-label">Key Rate</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">12.4 km</div>
                        <div class="stat-label">Distance</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">7,248</div>
                        <div class="stat-label">Secure Keys</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">+8.2 QH</div>
                        <div class="stat-label">Today's Earnings</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Node Operator Tab -->
        <div class="tab-content" id="tab-node">
            <div class="section-title">Node Operator Dashboard</div>

            <div class="card-grid">
                <div class="card">
                    <div class="card-title">Node Status</div>
                    <div class="card-value" style="font-size: 24px; color: #28a745;">üü¢ Online</div>
                    <div class="card-label">Uptime: 99.98%</div>
                </div>
                <div class="card">
                    <div class="card-title">Validator Stake</div>
                    <div class="card-value">10,000 QH</div>
                    <div class="card-label">Minimum: 1,000 QH</div>
                </div>
                <div class="card">
                    <div class="card-title">Blocks Produced</div>
                    <div class="card-value">1,247</div>
                    <div class="card-label">Last epoch: 124</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Node Configuration</div>

            <div class="device-card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-weight: 600; margin-bottom: 5px;">Enable Validator Mode</div>
                        <div style="font-size: 12px; color: #666;">Participate in consensus and earn rewards</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <div class="device-card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-weight: 600; margin-bottom: 5px;">Offchain Worker</div>
                        <div style="font-size: 12px; color: #666;">Process off-chain computation tasks</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <div class="device-card">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-weight: 600; margin-bottom: 5px;">Telemetry Reporting</div>
                        <div style="font-size: 12px; color: #666;">Share node metrics with network</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <button class="btn" style="margin-top: 20px;">Open QSSH Queue Manager</button>
        </div>

        <!-- Governance Tab -->
        <div class="tab-content" id="tab-governance">
            <div class="section-title">On-Chain Governance</div>

            <div class="card-grid">
                <div class="card">
                    <div class="card-title">Voting Power</div>
                    <div class="card-value">850 QH</div>
                    <div class="card-label">From staked tokens</div>
                </div>
                <div class="card">
                    <div class="card-title">Active Proposals</div>
                    <div class="card-value">3</div>
                    <div class="card-label">Awaiting your vote</div>
                </div>
                <div class="card">
                    <div class="card-title">Votes Cast</div>
                    <div class="card-value">12</div>
                    <div class="card-label">All time</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Active Proposals</div>

            <!-- Proposal 1: Runtime Upgrade -->
            <div class="device-card">
                <div style="display: flex; justify-content: between; gap: 20px;">
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <span style="background: #ff9800; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: 600;">RUNTIME UPGRADE</span>
                            <span style="color: #999; font-size: 14px;">Referendum #42</span>
                        </div>
                        <div style="font-size: 18px; font-weight: 600; margin-bottom: 10px;">Upgrade to Runtime v188: QSSH Queue Manager Integration</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.6;">
                            This upgrade adds the QSSH Queue Manager pallet for improved multi-validator coordination with quantum-safe encrypted message passing. Includes priority queuing, FALCON-1024 encryption, and Data Images for network sync.
                        </div>
                        <div style="margin-top: 15px; display: flex; gap: 15px; font-size: 13px;">
                            <div>
                                <span style="color: #999;">Proposer:</span>
                                <span style="color: #667eea; font-weight: 600;">Alice (Tech Committee)</span>
                            </div>
                            <div>
                                <span style="color: #999;">Ends in:</span>
                                <span style="font-weight: 600;">2 days 14h</span>
                            </div>
                        </div>
                    </div>
                    <div style="min-width: 200px;">
                        <div style="font-size: 12px; color: #999; margin-bottom: 5px;">Current Result</div>
                        <div style="height: 12px; background: #e0e0e0; border-radius: 10px; overflow: hidden; margin-bottom: 10px;">
                            <div style="width: 68%; height: 100%; background: linear-gradient(90deg, #4caf50, #8bc34a);"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 15px;">
                            <span style="color: #4caf50; font-weight: 600;">üëç 68%</span>
                            <span style="color: #f44336; font-weight: 600;">üëé 32%</span>
                        </div>
                        <button class="btn" style="width: 100%; margin-bottom: 8px;">Vote Aye</button>
                        <button class="btn-secondary btn" style="width: 100%;">Vote Nay</button>
                    </div>
                </div>
            </div>

            <!-- Proposal 2: Treasury Spending -->
            <div class="device-card">
                <div style="display: flex; justify-content: between; gap: 20px;">
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <span style="background: #2196f3; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: 600;">TREASURY</span>
                            <span style="color: #999; font-size: 14px;">Proposal #15</span>
                        </div>
                        <div style="font-size: 18px; font-weight: 600; margin-bottom: 10px;">Fund Quantum Hardware Integration Research</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.6;">
                            Request 50,000 QH from treasury to research integration with Nokia QKD devices and develop standardized quantum device API for broader hardware support.
                        </div>
                        <div style="margin-top: 15px; display: flex; gap: 15px; font-size: 13px;">
                            <div>
                                <span style="color: #999;">Proposer:</span>
                                <span style="color: #667eea; font-weight: 600;">Quantum Research Council</span>
                            </div>
                            <div>
                                <span style="color: #999;">Ends in:</span>
                                <span style="font-weight: 600;">5 days 3h</span>
                            </div>
                        </div>
                    </div>
                    <div style="min-width: 200px;">
                        <div style="font-size: 12px; color: #999; margin-bottom: 5px;">Current Result</div>
                        <div style="height: 12px; background: #e0e0e0; border-radius: 10px; overflow: hidden; margin-bottom: 10px;">
                            <div style="width: 82%; height: 100%; background: linear-gradient(90deg, #4caf50, #8bc34a);"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 15px;">
                            <span style="color: #4caf50; font-weight: 600;">üëç 82%</span>
                            <span style="color: #f44336; font-weight: 600;">üëé 18%</span>
                        </div>
                        <button class="btn" style="width: 100%; margin-bottom: 8px;">Vote Aye</button>
                        <button class="btn-secondary btn" style="width: 100%;">Vote Nay</button>
                    </div>
                </div>
            </div>

            <!-- Proposal 3: Parameter Change -->
            <div class="device-card">
                <div style="display: flex; justify-content: between; gap: 20px;">
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                            <span style="background: #9c27b0; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: 600;">PARAMETER</span>
                            <span style="color: #999; font-size: 14px;">Motion #7</span>
                        </div>
                        <div style="font-size: 18px; font-weight: 600; margin-bottom: 10px;">Increase Validator Set to 21 Nodes</div>
                        <div style="font-size: 14px; color: #666; line-height: 1.6;">
                            Increase maximum validator set from 12 to 21 nodes to improve decentralization and network resilience. Requires minimum 10,000 QH stake per validator.
                        </div>
                        <div style="margin-top: 15px; display: flex; gap: 15px; font-size: 13px;">
                            <div>
                                <span style="color: #999;">Proposer:</span>
                                <span style="color: #667eea; font-weight: 600;">Council</span>
                            </div>
                            <div>
                                <span style="color: #999;">Ends in:</span>
                                <span style="font-weight: 600;">1 day 8h</span>
                            </div>
                        </div>
                    </div>
                    <div style="min-width: 200px;">
                        <div style="font-size: 12px; color: #999; margin-bottom: 5px;">Current Result</div>
                        <div style="height: 12px; background: #e0e0e0; border-radius: 10px; overflow: hidden; margin-bottom: 10px;">
                            <div style="width: 45%; height: 100%; background: linear-gradient(90deg, #4caf50, #8bc34a);"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 15px;">
                            <span style="color: #4caf50; font-weight: 600;">üëç 45%</span>
                            <span style="color: #f44336; font-weight: 600;">üëé 55%</span>
                        </div>
                        <button class="btn" style="width: 100%; margin-bottom: 8px;">Vote Aye</button>
                        <button class="btn-secondary btn" style="width: 100%;">Vote Nay</button>
                    </div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Create New Proposal</div>
            <div class="quick-actions">
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üìú</div>
                    <div class="quick-action-label">Democracy Proposal</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üí∞</div>
                    <div class="quick-action-label">Treasury Proposal</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">‚öôÔ∏è</div>
                    <div class="quick-action-label">Council Motion</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üîÑ</div>
                    <div class="quick-action-label">Runtime Upgrade</div>
                </div>
            </div>
        </div>

        <!-- Network Tab (Queue Visualization) -->
        <div class="tab-content" id="tab-network">
            <iframe src="qssh-lcars-exact.html" style="width: 100%; height: 800px; border: none; border-radius: 15px;"></iframe>
        </div>

        <!-- Runtime Upgrades Tab -->
        <div class="tab-content" id="tab-upgrades">
            <div class="section-title">Runtime Upgrades</div>

            <div style="margin-bottom: 30px; padding: 20px; background: #fff3cd; border-radius: 12px; border-left: 4px solid #ffc107;">
                <div style="font-weight: 600; margin-bottom: 10px;">‚ö° Pending Runtime Upgrade Detected</div>
                <div style="font-size: 14px; color: #555;">A new runtime version (v188) is available and will activate at block #10,500 (in ~47 blocks).</div>
            </div>

            <div class="card-grid">
                <div class="card">
                    <div class="card-title">Current Runtime</div>
                    <div class="card-value" style="font-size: 28px;">v187</div>
                    <div class="card-label">Spec: 187 | Impl: 0</div>
                </div>
                <div class="card">
                    <div class="card-title">Next Runtime</div>
                    <div class="card-value" style="font-size: 28px; color: #ff9800;">v188</div>
                    <div class="card-label">Activates at #10,500</div>
                </div>
                <div class="card">
                    <div class="card-title">Upgrade Status</div>
                    <div class="card-value" style="font-size: 20px; color: #ff9800;">‚è≥ Pending</div>
                    <div class="card-label">47 blocks remaining</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Runtime v188 Changelog</div>

            <div class="device-card">
                <div style="font-weight: 600; font-size: 16px; margin-bottom: 15px; color: #667eea;">üÜï New Features</div>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="display: flex; gap: 10px;">
                        <span style="color: #4caf50; font-weight: 700;">+</span>
                        <div>
                            <div style="font-weight: 600;">QSSH Queue Manager Pallet</div>
                            <div style="font-size: 13px; color: #666;">Multi-validator queue coordination with FALCON-1024 encrypted messaging</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <span style="color: #4caf50; font-weight: 700;">+</span>
                        <div>
                            <div style="font-weight: 600;">Data Images for Network Sync</div>
                            <div style="font-size: 13px; color: #666;">Immutable queue state snapshots with SPHINCS+ signatures</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <span style="color: #4caf50; font-weight: 700;">+</span>
                        <div>
                            <div style="font-weight: 600;">Priority Queue System</div>
                            <div style="font-size: 13px; color: #666;">Critical (100) > High (75) > Normal (50) > Low (25) message routing</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="device-card">
                <div style="font-weight: 600; font-size: 16px; margin-bottom: 15px; color: #ff9800;">üîß Improvements</div>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="display: flex; gap: 10px;">
                        <span style="color: #ff9800; font-weight: 700;">~</span>
                        <div>
                            <div style="font-weight: 600;">Enhanced Entropy Pool Management</div>
                            <div style="font-size: 13px; color: #666;">Improved QBER tracking and threshold validation</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <span style="color: #ff9800; font-weight: 700;">~</span>
                        <div>
                            <div style="font-weight: 600;">Optimized STARK Proof Verification</div>
                            <div style="font-size: 13px; color: #666;">15% faster proof generation (284ms ‚Üí 242ms)</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="device-card">
                <div style="font-weight: 600; font-size: 16px; margin-bottom: 15px; color: #f44336;">üîí Security</div>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="display: flex; gap: 10px;">
                        <span style="color: #f44336; font-weight: 700;">‚ö†</span>
                        <div>
                            <div style="font-weight: 600;">Fixed: Stream Consumption Conflicts</div>
                            <div style="font-size: 13px; color: #666;">Resolves "SelectNextSome polled after terminated" validator crashes</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <span style="color: #4caf50; font-weight: 700;">‚úì</span>
                        <div>
                            <div style="font-weight: 600;">QPP Enforcement in Message Handling</div>
                            <div style="font-size: 13px; color: #666;">NoClone wrapper prevents quantum no-cloning theorem violations</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Runtime Upgrade History</div>

            <div class="tx-list">
                <div class="tx-item">
                    <div class="tx-info">
                        <div class="tx-type">v187 ‚Üí v188: QSSH Queue Manager</div>
                        <div class="tx-date">Pending (Block #10,500)</div>
                    </div>
                    <div style="padding: 5px 15px; background: #fff3cd; border-radius: 15px; font-size: 12px; font-weight: 600; color: #856404;">PENDING</div>
                </div>
                <div class="tx-item">
                    <div class="tx-info">
                        <div class="tx-type">v186 ‚Üí v187: Enhanced VRF Election</div>
                        <div class="tx-date">2 days ago (Block #9,876)</div>
                    </div>
                    <div style="padding: 5px 15px; background: #d4edda; border-radius: 15px; font-size: 12px; font-weight: 600; color: #155724;">ACTIVE</div>
                </div>
                <div class="tx-item">
                    <div class="tx-info">
                        <div class="tx-type">v185 ‚Üí v186: Threshold QRNG Integration</div>
                        <div class="tx-date">7 days ago (Block #8,234)</div>
                    </div>
                    <div style="padding: 5px 15px; background: #e0e0e0; border-radius: 15px; font-size: 12px; font-weight: 600; color: #666;">COMPLETED</div>
                </div>
                <div class="tx-item">
                    <div class="tx-info">
                        <div class="tx-type">v184 ‚Üí v185: STARK Proof Optimizations</div>
                        <div class="tx-date">14 days ago (Block #6,892)</div>
                    </div>
                    <div style="padding: 5px 15px; background: #e0e0e0; border-radius: 15px; font-size: 12px; font-weight: 600; color: #666;">COMPLETED</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Layer-by-Layer Impact Analysis</div>

            <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px;">
                <div class="card">
                    <div style="font-size: 32px; text-align: center; margin-bottom: 10px;">üì±</div>
                    <div style="font-size: 14px; font-weight: 600; text-align: center; margin-bottom: 5px;">Layer 5: App</div>
                    <div class="card-value" style="font-size: 18px; color: #4caf50;">+3</div>
                    <div class="card-label">New RPCs</div>
                </div>
                <div class="card">
                    <div style="font-size: 32px; text-align: center; margin-bottom: 10px;">‚úçÔ∏è</div>
                    <div style="font-size: 14px; font-weight: 600; text-align: center; margin-bottom: 5px;">Layer 4: Sigs</div>
                    <div class="card-value" style="font-size: 18px; color: #999;">0</div>
                    <div class="card-label">No changes</div>
                </div>
                <div class="card">
                    <div style="font-size: 32px; text-align: center; margin-bottom: 10px;">üîë</div>
                    <div style="font-size: 14px; font-weight: 600; text-align: center; margin-bottom: 5px;">Layer 3: Keys</div>
                    <div class="card-value" style="font-size: 18px; color: #ff9800;">~1</div>
                    <div class="card-label">Enhanced</div>
                </div>
                <div class="card">
                    <div style="font-size: 32px; text-align: center; margin-bottom: 10px;">üåê</div>
                    <div style="font-size: 14px; font-weight: 600; text-align: center; margin-bottom: 5px;">Layer 2: Network</div>
                    <div class="card-value" style="font-size: 18px; color: #4caf50;">+2</div>
                    <div class="card-label">QSSH queues</div>
                </div>
                <div class="card">
                    <div style="font-size: 32px; text-align: center; margin-bottom: 10px;">‚ö°</div>
                    <div style="font-size: 14px; font-weight: 600; text-align: center; margin-bottom: 5px;">Layer 1: Entropy</div>
                    <div class="card-value" style="font-size: 18px; color: #ff9800;">~1</div>
                    <div class="card-label">Pool mgmt</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 40px;">üîê Submit Runtime Upgrade (Quantum-Safe)</div>

            <div class="device-card" style="max-width: 800px;">
                <div style="margin-bottom: 20px; padding: 15px; background: #e3f2fd; border-radius: 10px; border-left: 4px solid #2196f3;">
                    <div style="font-weight: 600; margin-bottom: 8px;">üõ°Ô∏è Post-Quantum Security</div>
                    <div style="font-size: 13px; color: #0d47a1;">
                        All runtime upgrades are signed with <strong>Falcon-1024</strong> signatures (NIST PQC Round 3).
                        Your wallet keypair ensures quantum-safe authentication.
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Wallet Secret Key (Falcon-1024)</label>
                    <input type="file" id="walletKeyFile" class="form-input" accept=".sec" style="padding: 10px;">
                    <div style="font-size: 12px; color: #999; margin-top: 5px;">
                        Load your wallet-falcon.sec file (generated via: cargo run --bin generate-falcon-key)
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Runtime WASM File</label>
                    <input type="file" id="wasmFile" class="form-input" accept=".wasm" style="padding: 10px;">
                    <div style="font-size: 12px; color: #999; margin-top: 5px;">
                        Select quantumharmony_runtime.compact.wasm from target/release/wbuild/
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Target Spec Version (Optional)</label>
                    <input type="number" id="targetSpecVersion" class="form-input" placeholder="188">
                </div>

                <div id="upgradeStatus" style="margin-bottom: 20px;"></div>

                <button class="btn" style="width: 100%; font-size: 16px;" onclick="submitRuntimeUpgrade()">
                    üöÄ Submit Runtime Upgrade (Falcon-1024 Signed)
                </button>

                <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 10px; border-left: 4px solid #ff9800;">
                    <div style="font-weight: 600; margin-bottom: 8px;">‚ö†Ô∏è Sudo Required</div>
                    <div style="font-size: 13px; color: #856404;">
                        This operation requires sudo privileges. Currently using Alice's account in dev mode.
                        In production, this would require 7/12 validator approval (threshold signature).
                    </div>
                </div>
            </div>
        </div>

        <!-- Developer Tab -->
        <div class="tab-content" id="tab-developer">
            <div class="section-title">Developer Tools</div>

            <div class="quick-actions">
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üìù</div>
                    <div class="quick-action-label">Smart Contracts</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üîå</div>
                    <div class="quick-action-label">RPC Explorer</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üìö</div>
                    <div class="quick-action-label">Documentation</div>
                </div>
                <div class="quick-action-btn">
                    <div class="quick-action-icon">üîë</div>
                    <div class="quick-action-label">API Keys</div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">RPC Connection</div>

            <div style="max-width: 700px;">
                <div class="form-group">
                    <label class="form-label">RPC Endpoint</label>
                    <input type="text" class="form-input" value="ws://localhost:9944" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">Connection Status</label>
                    <div style="padding: 12px 15px; background: #d4edda; border-radius: 10px; color: #155724; font-weight: 600;">
                        ‚úì Connected (Block #10,450)
                    </div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">Substrate Pallets</div>

            <div class="card-grid">
                <div class="card">
                    <div class="card-title">QKD Client</div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 10px;">Quantum Key Distribution interface</div>
                    <button class="btn" style="width: 100%;">View Pallet</button>
                </div>
                <div class="card">
                    <div class="card-title">Validator Set</div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 10px;">Quantum-enhanced validator management</div>
                    <button class="btn" style="width: 100%;">View Pallet</button>
                </div>
                <div class="card">
                    <div class="card-title">Proof of Coherence</div>
                    <div style="font-size: 14px; color: #666; margin-bottom: 10px;">Consensus mechanism</div>
                    <button class="btn" style="width: 100%;">View Pallet</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global WebSocket connection
        let ws = null;
        let walletSecretKey = null;
        let currentNonce = Date.now();

        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Remove active from all buttons
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected tab
            const selectedTab = document.getElementById('tab-' + tabName);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }

            // Highlight active button - find button with matching onclick
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick') && btn.getAttribute('onclick').includes(`'${tabName}'`)) {
                    btn.classList.add('active');
                }
            });
        }

        // Connect to wallet WebSocket server on page load
        window.addEventListener('DOMContentLoaded', () => {
            connectWalletServer();
        });

        function connectWalletServer() {
            ws = new WebSocket('ws://localhost:9950');

            ws.onopen = () => {
                console.log('‚úÖ Connected to QuantumHarmony wallet server');
                showStatus('Connected to node', 'success');
            };

            ws.onmessage = (event) => {
                const data = JSON.parse(event.data);
                console.log('Received:', data);

                if (data.type === 'connected') {
                    console.log('üîê', data.message);
                } else if (data.type === 'metrics') {
                    updateMetrics(data.data);
                } else if (data.type === 'runtime_upgrade_response') {
                    handleUpgradeResponse(data);
                } else if (data.type === 'error') {
                    showStatus('Error: ' + data.error, 'error');
                }
            };

            ws.onerror = (error) => {
                console.error('WebSocket error:', error);
                showStatus('Connection error - is the node running?', 'error');
            };

            ws.onclose = () => {
                console.log('‚ùå Disconnected from wallet server');
                showStatus('Disconnected - attempting reconnect...', 'warning');
                setTimeout(connectWalletServer, 5000);
            };
        }

        function updateMetrics(metrics) {
            console.log('üìä Metrics:', metrics);
            // TODO: Update UI with real metrics
            // - block_height
            // - spec_version
            // - queue_metrics
        }

        function handleUpgradeResponse(data) {
            if (data.status === 'submitted') {
                showStatus(`‚úÖ Runtime upgrade submitted!\nTx Hash: ${data.tx_hash}`, 'success');
            } else if (data.status === 'error') {
                showStatus(`‚ùå Upgrade failed: ${data.error}`, 'error');
            }
        }

        function showStatus(message, type) {
            const statusDiv = document.getElementById('upgradeStatus');
            if (!statusDiv) return;

            const colors = {
                success: { bg: '#d4edda', border: '#4caf50', text: '#155724' },
                error: { bg: '#f8d7da', border: '#f44336', text: '#721c24' },
                warning: { bg: '#fff3cd', border: '#ff9800', text: '#856404' },
            };

            const color = colors[type] || colors.warning;

            statusDiv.innerHTML = `
                <div style="padding: 15px; background: ${color.bg}; border-radius: 10px; border-left: 4px solid ${color.border}; color: ${color.text}; white-space: pre-wrap;">
                    ${message}
                </div>
            `;
        }

        // Load wallet secret key
        document.addEventListener('DOMContentLoaded', () => {
            const keyInput = document.getElementById('walletKeyFile');
            if (keyInput) {
                keyInput.addEventListener('change', async (event) => {
                    const file = event.target.files[0];
                    if (file) {
                        const arrayBuffer = await file.arrayBuffer();
                        walletSecretKey = new Uint8Array(arrayBuffer);
                        console.log('üîë Wallet key loaded:', walletSecretKey.length, 'bytes');
                        showStatus('‚úÖ Wallet key loaded (2305 bytes)', 'success');
                    }
                });
            }
        });

        async function submitRuntimeUpgrade() {
            // Check WASM file selected
            const wasmInput = document.getElementById('wasmFile');
            if (!wasmInput.files[0]) {
                showStatus('‚ùå Please select a WASM file', 'error');
                return;
            }

            // Check WebSocket connected
            if (!ws || ws.readyState !== WebSocket.OPEN) {
                showStatus('‚ùå Not connected to node. Please wait...', 'error');
                return;
            }

            showStatus('‚è≥ Reading WASM file...', 'warning');

            // Read WASM file
            const wasmFile = wasmInput.files[0];
            const wasmArrayBuffer = await wasmFile.arrayBuffer();
            const wasmBytes = new Uint8Array(wasmArrayBuffer);

            console.log('üì¶ WASM file loaded:', wasmBytes.length, 'bytes');

            // Convert to base64
            const wasmBase64 = btoa(String.fromCharCode.apply(null, wasmBytes));

            // Get target spec version
            const targetSpecVersion = document.getElementById('targetSpecVersion').value;

            // Build command payload
            const payload = {
                wasm_code: wasmBase64,
                target_spec_version: targetSpecVersion ? parseInt(targetSpecVersion) : null
            };

            // Build command
            const command = {
                command: 'runtime_upgrade',
                payload: payload,
                nonce: currentNonce++,
                // POC Mode: Send placeholder signature (actual signing would require Falcon-1024 WASM)
                signature: Array.from(new Uint8Array(100).fill(0xAB))  // Fake 100-byte signature
            };

            console.log('üì§ Sending runtime upgrade command (POC mode - unsigned)');
            console.log('‚ö†Ô∏è  Production would use Falcon-1024 signature here');
            showStatus('‚è≥ Submitting runtime upgrade to node...', 'warning');

            // Send to WebSocket
            ws.send(JSON.stringify(command));
        }
    </script>
</body>
</html>
